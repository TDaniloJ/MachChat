<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Criar Personagem - ChatPersonas</title>

    <!-- CSS -->
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/criar.css">
</head>
<body>
    <!-- NAVBAR -->
    <nav class="navbar">
        <div class="navbar-left">
            <a href="index.html" class="logo">
                üí¨ ChatPersonas
            </a>
            <a href="index.html" class="back-btn">
                ‚Üê Voltar
            </a>
        </div>
        <div class="navbar-right">
            <div class="coins-display">
                ü™ô <span id="userCoins">250</span>
            </div>
        </div>
    </nav>

    <!-- LAYOUT PRINCIPAL -->
    <div class="main-layout">
        <!-- FORMUL√ÅRIO DE CRIA√á√ÉO -->
        <div class="creation-form">
            <div class="form-header">
                <h1 class="form-title">Criar Personagem</h1>
                <p class="form-subtitle">D√™ vida a um personagem √∫nico com personalidade pr√≥pria</p>
            </div>

            <form id="characterForm">
                <!-- INFORMA√á√ïES B√ÅSICAS -->
                <div class="form-section">
                    <h3 class="section-title">
                        ‚ú® Informa√ß√µes B√°sicas
                    </h3>
                    
                    <div class="form-group">
                        <label class="form-label required">Foto do Personagem</label>
                        <div class="photo-upload-section">
                            <div class="photo-upload" id="photoUpload" onclick="document.getElementById('characterPhoto').click()">
                                <input type="file" id="characterPhoto" accept="image/*" onchange="previewCharacterPhoto(this)">
                                <div class="upload-icon">üì∑</div>
                                <div class="upload-text">Clique para enviar uma foto</div>
                                <div class="upload-hint">JPG, PNG, GIF (m√°x. 5MB)</div>
                            </div>
                            <div id="photoPreviewContainer" style="display: none;">
                                <div class="photo-preview">
                                    <img id="photoPreview" alt="Preview">
                                    <button type="button" class="photo-remove" onclick="removeCharacterPhoto()">√ó</button>
                                </div>
                            </div>
                        </div>
                        
                        <div style="margin-top: 16px;">
                            <label class="form-label">Ou escolha um emoji</label>
                            <div class="emoji-grid" id="emojiGrid">
                                <div class="emoji-option" data-emoji="üåô">üåô</div>
                                <div class="emoji-option" data-emoji="‚ö°">‚ö°</div>
                                <div class="emoji-option" data-emoji="üé®">üé®</div>
                                <div class="emoji-option" data-emoji="üî¨">üî¨</div>
                                <div class="emoji-option" data-emoji="üé≠">üé≠</div>
                                <div class="emoji-option" data-emoji="üéÆ">üéÆ</div>
                                <div class="emoji-option" data-emoji="üìö">üìö</div>
                                <div class="emoji-option" data-emoji="üéµ">üéµ</div>
                                <div class="emoji-option" data-emoji="üåü">üåü</div>
                                <div class="emoji-option" data-emoji="ü¶ã">ü¶ã</div>
                                <div class="emoji-option" data-emoji="üî•">üî•</div>
                                <div class="emoji-option" data-emoji="‚ùÑÔ∏è">‚ùÑÔ∏è</div>
                                <div class="emoji-option" data-emoji="ü§ñ">ü§ñ</div>
                                <div class="emoji-option" data-emoji="üëë">üëë</div>
                                <div class="emoji-option" data-emoji="üíé">üíé</div>
                                <div class="emoji-option" data-emoji="üóø">üóø</div>
                                <div class="emoji-option" data-emoji="üê∫">üê∫</div>
                                <div class="emoji-option" data-emoji="ü¶Ö">ü¶Ö</div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label required">Visibilidade</label>
                        <div class="visibility-options">
                            <div class="visibility-option selected" data-visibility="public">
                                <div class="visibility-icon">üåç</div>
                                <div class="visibility-title">P√∫blico</div>
                                <div class="visibility-desc">Todos podem ver e conversar</div>
                            </div>
                            <div class="visibility-option" data-visibility="unlisted">
                                <div class="visibility-icon">üîó</div>
                                <div class="visibility-title">N√£o Listado</div>
                                <div class="visibility-desc">Apenas com link direto</div>
                            </div>
                            <div class="visibility-option" data-visibility="private">
                                <div class="visibility-icon">üîí</div>
                                <div class="visibility-title">Privado</div>
                                <div class="visibility-desc">Apenas voc√™ pode usar</div>
                            </div>
                        </div>
                    </div>
                </div>


                <!-- NOME E DESCRICAO -->
                <div class="form-section">
                    <h3 class="section-title">
                        üìù Nome e Descri√ß√£o
                    </h3>

                    <div class="form-group">
                        <label class="form-label required" for="name">Nome do Personagem</label>
                        <input type="text" id="characterName" class="form-input" placeholder="Ex: Luna, Alex, Maya..." required>
                    </div>

                    <div class="form-group">
                        <label class="form-label required" for="characterDesc">Descri√ß√£o Breve</label>
                        <input type="text" id="characterDesc" class="form-input" placeholder="Ex: S√°bia e misteriosa, ama astronomia e filosofia" required>
                        <div class="char-counter">
                            <span id="descCounter">0</span>/100 caracteres
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="about">Sobre o Personagem</label>
                        <textarea id="about" class="form-textarea" rows="3" placeholder="Descreva o seu personagem..."></textarea>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="characteristics">Caracter√≠sticas do Personagem</label>
                        <textarea id="characteristics" class="form-textarea" rows="3" placeholder="Descreva o seu personagem..."></textarea>
                    </div>


                </div>

                <!-- PERSONALIDADE -->
                <div class="form-section">
                    <h3 class="section-title">
                        üß† Personalidade
                    </h3>
                    
                    <div class="form-group">
                        <label class="form-label required" for="personalityDesc">Descri√ß√£o Detalhada do Personagem</label>
                        <textarea id="personalityDesc" class="form-textarea" rows="6" 
                            placeholder="Descreva a personalidade, caracter√≠sticas, modo de falar, hist√≥ria de fundo e comportamentos √∫nicos do seu personagem. Esta descri√ß√£o ser√° inclu√≠da na mem√≥ria de longo prazo." required></textarea>
                        <div class="char-counter">
                            <span id="personalityCounter">0</span>/2000 caracteres
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Tra√ßos de Personalidade</label>
                        <div class="tags-container" id="personalityTags">
                            <div class="tag" data-trait="S√°bia">S√°bia</div>
                            <div class="tag" data-trait="Misteriosa">Misteriosa</div>
                            <div class="tag" data-trait="Corajosa">Corajosa</div>
                            <div class="tag" data-trait="Criativa">Criativa</div>
                            <div class="tag" data-trait="En√©rgica">En√©rgica</div>
                            <div class="tag" data-trait="Anal√≠tica">Anal√≠tica</div>
                            <div class="tag" data-trait="Emp√°tica">Emp√°tica</div>
                            <div class="tag" data-trait="Aventureira">Aventureira</div>
                            <div class="tag" data-trait="Contemplativa">Contemplativa</div>
                            <div class="tag" data-trait="Inspiradora">Inspiradora</div>
                            <input type="text" class="tag-input" placeholder="Adicionar..." id="customTraitInput">
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Interesses e Hobbies</label>
                        <div class="tags-container" id="interestsTags">
                            <div class="tag" data-interest="Astronomia">Astronomia</div>
                            <div class="tag" data-interest="Filosofia">Filosofia</div>
                            <div class="tag" data-interest="Arte">Arte</div>
                            <div class="tag" data-interest="Ci√™ncia">Ci√™ncia</div>
                            <div class="tag" data-interest="Aventura">Aventura</div>
                            <div class="tag" data-interest="M√∫sica">M√∫sica</div>
                            <div class="tag" data-interest="Literatura">Literatura</div>
                            <div class="tag" data-interest="Esportes">Esportes</div>
                            <div class="tag" data-interest="Tecnologia">Tecnologia</div>
                            <div class="tag" data-interest="Culin√°ria">Culin√°ria</div>
                            <input type="text" class="tag-input" placeholder="Adicionar..." id="customInterestInput">
                        </div>
                    </div>
                </div>

                <!-- CEN√ÅRIO -->
                <div class="form-section">
                    <h3 class="section-title">
                        üåç Cen√°rio
                    </h3>
                    
                    <div class="form-group">
                        <label class="form-label" for="scenario">Circunst√¢ncias e Contexto</label>
                        <textarea id="scenario" class="form-textarea" rows="4" 
                            placeholder="Descreva o cen√°rio atual, o ambiente, a situa√ß√£o em que o personagem se encontra e o contexto da conversa. Ex: Voc√™ est√° em uma biblioteca antiga √† meia-noite, rodeada de livros m√≠sticos e pergaminhos..."></textarea>
                        <div class="char-counter">
                            <span id="scenarioCounter">0</span>/1000 caracteres
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Imagem de Fundo do Cen√°rio</label>
                        <div class="scenario-upload">
                            <div class="photo-upload" onclick="document.getElementById('scenarioImage').click()">
                                <input type="file" id="scenarioImage" accept="image/*" onchange="previewScenarioImage(this)">
                                <div class="upload-icon">üñºÔ∏è</div>
                                <div class="upload-text">Upload da imagem de cen√°rio</div>
                                <div class="upload-hint">Esta imagem aparecer√° no fundo da conversa</div>
                            </div>
                            <div id="scenarioPreviewContainer" style="display: none;" class="scenario-preview-container">
                                <img id="scenarioPreview" class="scenario-image-preview" alt="Cen√°rio">
                                <button type="button" class="scenario-remove" onclick="removeScenarioImage()">√ó</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- SAUDA√á√ÉO -->
                <div class="form-section">
                    <h3 class="section-title">
                        üí¨ Sauda√ß√£o
                    </h3>
                    
                    <div class="form-group">
                        <label class="form-label required" for="greeting">Primeira Mensagem</label>
                        <textarea id="greeting" class="form-textarea" rows="3" 
                            placeholder="A primeira mensagem que o personagem enviar√° ao iniciar uma conversa. Ex: Ol√°! Sou Luna, guardi√£ dos segredos celestiais. As estrelas me trouxeram at√© voc√™ esta noite..." required></textarea>
                        <div class="char-counter">
                            <span id="greetingCounter">0</span>/500 caracteres
                        </div>
                        <div style="font-size: 12px; color: rgba(255, 193, 7, 0.8); margin-top: 8px;">
                            üí° Esta mensagem ser√° inclu√≠da apenas na mem√≥ria de curto prazo
                        </div>
                    </div>
                </div>

                <!-- CONFIGURA√á√ïES AVAN√áADAS -->
                <div class="form-section">
                    <button type="button" class="advanced-toggle" onclick="toggleAdvanced()">
                        ‚öôÔ∏è Configura√ß√µes Avan√ßadas <span id="advancedIcon">‚ñº</span>
                    </button>
                    
                    <div class="advanced-settings" id="advancedSettings">
                        <!-- Cart√µes de Persona -->
                        <div class="form-group">
                            <label class="form-label">Cart√µes de Persona</label>
                            <div style="font-size: 12px; color: rgba(255, 255, 255, 0.6); margin-bottom: 12px;">
                                Configura√ß√µes de identidade do usu√°rio no chat (at√© 5 cart√µes)
                            </div>
                            <div class="persona-cards" id="personaCards">
                                <!-- Cart√µes ser√£o adicionados aqui -->
                            </div>
                            <div class="add-persona-btn" onclick="addPersonaCard()" id="addPersonaBtn">
                                + Cart√£o de persona
                            </div>
                        </div>

                        <!-- Bolha de Pensamento -->
                        <div class="form-group">
                            <label class="form-label">Bolha de Pensamento</label>
                            <div style="font-size: 12px; color: rgba(255, 255, 255, 0.6); margin-bottom: 12px;">
                                Escolha no m√°ximo 3 valores ao mesmo tempo
                            </div>
                            <div class="thought-bubble">
                                <div class="emotion-sliders" id="emotionSliders">
                                    <div class="emotion-slider">
                                        <div class="emotion-label">üò° Raiva</div>
                                        <input type="range" class="slider" id="angerSlider" min="0" max="100" value="0" data-emotion="anger">
                                        <div class="slider-value"><span id="angerValue">0</span>%</div>
                                    </div>
                                    <div class="emotion-slider">
                                        <div class="emotion-label">‚ù§Ô∏è Amor</div>
                                        <input type="range" class="slider" id="loveSlider" min="0" max="100" value="0" data-emotion="love">
                                        <div class="slider-value"><span id="loveValue">0</span>%</div>
                                    </div>
                                    <div class="emotion-slider">
                                        <div class="emotion-label">üò§ Excita√ß√£o</div>
                                        <input type="range" class="slider" id="excitementSlider" min="0" max="100" value="0" data-emotion="excitement">
                                        <div class="slider-value"><span id="excitementValue">0</span>%</div>
                                    </div>
                                    <div class="emotion-slider">
                                        <div class="emotion-label">üôè Submiss√£o</div>
                                        <input type="range" class="slider" id="submissionSlider" min="0" max="100" value="0" data-emotion="submission">
                                        <div class="slider-value"><span id="submissionValue">0</span>%</div>
                                    </div>
                                    <div class="emotion-slider">
                                        <div class="emotion-label">üò† √ìdio</div>
                                        <input type="range" class="slider" id="hateSlider" min="0" max="100" value="0" data-emotion="hate">
                                        <div class="slider-value"><span id="hateValue">0</span>%</div>
                                    </div>
                                </div>
                                <button type="button" class="add-persona-btn" onclick="addCustomEmotion()" style="margin-top: 16px;">
                                    + Adicionar valor personalizado
                                </button>
                            </div>
                        </div>

                        <!-- Configura√ß√µes de IA -->
                        <div class="form-group">
                            <label class="form-label">Modelo de IA</label>
                            <select id="aiModel" class="form-select">
                                <option value="gpt-4">GPT-4 (Recomendado)</option>
                                <option value="claude-3.5">Claude 3.5 Sonnet</option>
                                <option value="gemini-pro">Gemini Pro</option>
                                <option value="local">Modelo Local</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Criatividade (Temperature)</label>
                            <div class="emotion-slider">
                                <div class="emotion-label">Conservador</div>
                                <input type="range" class="slider" id="temperature" min="0" max="1" step="0.1" value="0.7">
                                <div class="emotion-label">Criativo</div>
                                <div class="slider-value"><span id="tempValue">0.7</span></div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">M√°ximo de Tokens</label>
                            <div class="emotion-slider">
                                <div class="emotion-label">Curto</div>
                                <input type="range" class="slider" id="maxTokens" min="100" max="4000" step="100" value="1000">
                                <div class="emotion-label">Longo</div>
                                <div class="slider-value"><span id="tokensValue">1000</span></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- TERMOS -->
                <div class="terms-checkbox">
                    <input type="checkbox" id="acceptTerms" required>
                    <div class="terms-text">
                        Li e aceito as <a href="#" class="terms-link">Diretrizes da Comunidade</a>. 
                        Confirmo que este personagem n√£o viola os termos de uso e √© apropriado para a plataforma.
                    </div>
                </div>

                <!-- A√á√ïES -->
                <div class="form-actions">
                    <a href="index.html" class="btn btn-secondary">
                        ‚úï Cancelar
                    </a>
                    <button type="button" class="btn btn-secondary" onclick="saveAsDraft()">
                        üíæ Salvar Rascunho
                    </button>
                    <button type="submit" class="btn btn-primary">
                        ‚ú® Criar Personagem
                    </button>
                </div>
            </form>
        </div>

        <!-- PREVIEW LATERAL -->
        <div class="preview-sidebar">
            <div class="preview-header">
                <h3 class="preview-title">üëÅÔ∏è Preview</h3>
                <p style="font-size: 12px; color: rgba(255, 255, 255, 0.6);">Como seu personagem aparecer√°</p>
            </div>

            <div class="preview-character">
                <div class="preview-avatar" id="previewAvatar">
                    <span id="previewAvatarEmoji">üé≠</span>
                </div>
                <div class="preview-name" id="previewName">Nome do Personagem</div>
                <div class="preview-desc" id="previewDesc">Descri√ß√£o do personagem aparecer√° aqui</div>
                
                <div class="preview-badges" id="previewBadges">
                    <span class="preview-badge">P√∫blico</span>
                </div>

                <div class="preview-stats">
                    <div class="preview-stat">
                        <div class="preview-stat-value">5.0</div>
                        <div class="preview-stat-label">Rating</div>
                    </div>
                    <div class="preview-stat">
                        <div class="preview-stat-value">0</div>
                        <div class="preview-stat-label">Chats</div>
                    </div>
                    <div class="preview-stat">
                        <div class="preview-stat-value" id="previewTraits">0</div>
                        <div class="preview-stat-label">Tra√ßos</div>
                    </div>
                    <div class="preview-stat">
                        <div class="preview-stat-value">Novo</div>
                        <div class="preview-stat-label">Status</div>
                    </div>
                </div>
            </div>

            <div class="preview-scenario" id="previewScenarioSection" style="display: none;">
                <div class="scenario-label">üåç Cen√°rio</div>
                <div class="scenario-preview" id="previewScenario">
                    Nenhum cen√°rio definido ainda...
                </div>
            </div>

            <div class="preview-scenario">
                <div class="scenario-label">üí¨ Sauda√ß√£o</div>
                <div class="scenario-preview" id="previewGreeting">
                    Primeira mensagem aparecer√° aqui...
                </div>
            </div>

            <div style="text-align: center; margin-top: 24px;">
                <button class="btn btn-primary" onclick="testCharacter()" style="width: 100%;">
                    üß™ Testar Conversa
                </button>
            </div>
        </div>
    </div>

    <script src="js/main.js"></script>
</body>
</html>    